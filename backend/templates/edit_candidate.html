{% extends "base.html" %}
{% block content %}

<style>
/* Reuse animation styles from admin dashboard */

.fade-slide {
    animation: fadeSlideUp 0.7s ease forwards;
    opacity: 0;
}
@keyframes fadeSlideUp {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
}

.card-hover {
    transition: 0.3s ease;
    backdrop-filter: blur(10px);
}
.card-hover:hover {
    box-shadow: 0 0 25px rgba(0, 150, 255, 0.4);
    transform: translateY(-5px);
}

/* Ripple effect */
.btn-ripple {
    position: relative;
    overflow: hidden;
}
.btn-ripple::after {
    content: "";
    position: absolute;
    background: rgba(255,255,255,0.4);
    width: 0;
    height: 0;
    border-radius: 50%;
    transform: scale(0);
    opacity: 0;
    transition: 0.4s;
}
.btn-ripple:active::after {
    width: 200px;
    height: 200px;
    opacity: 1;
    transform: scale(1);
    top: var(--y);
    left: var(--x);
}
</style>

<script>
// Handle ripple animation
document.addEventListener("click", function(e) {
    if (e.target.classList.contains("btn-ripple")) {
        let rect = e.target.getBoundingClientRect();
        e.target.style.setProperty("--x", `${e.clientX - rect.left}px`);
        e.target.style.setProperty("--y", `${e.clientY - rect.top}px`);
    }
});
</script>

<div class="container py-4 fade-slide">

    <h2 class="fw-bold mb-4 text-primary">
        <i class="bi bi-pencil-square"></i> Edit Candidate
    </h2>

    <div class="card shadow-sm card-hover p-4">

        <form method="POST">

            <div class="row g-3">

                <div class="col-md-6">
                    <label class="form-label fw-semibold">Name</label>
                    <input name="name" class="form-control" value="{{ candidate.name }}" required>
                </div>

                <div class="col-md-6">
                    <label class="form-label fw-semibold">Party</label>
                    <input name="party" class="form-control" value="{{ candidate.party }}">
                </div>

                <div class="col-md-4">
                    <label class="form-label fw-semibold">Age</label>
                    <input type="number" name="age" class="form-control" value="{{ candidate.age }}">
                </div>

                <div class="col-md-8">
                    <label class="form-label fw-semibold">Qualification</label>
                    <input name="qualification" class="form-control" value="{{ candidate.qualification }}">
                </div>

                <div class="col-12">
                    <label class="form-label fw-semibold">Description</label>
                    <textarea name="description" class="form-control" rows="3">{{ candidate.description }}</textarea>
                </div>

                <div class="col-12 mt-2 form-check">
                    <input class="form-check-input" type="checkbox" name="is_verified" id="verify"
                           {% if candidate.is_verified %}checked{% endif %}>
                    <label class="form-check-label fw-semibold" for="verify">
                        Verified Candidate
                    </label>
                </div>

            </div>

            <div class="mt-4 d-flex gap-3">
                <button class="btn btn-primary px-4 btn-ripple">
                    <i class="bi bi-check2-circle"></i> Save Changes
                </button>

                <a href="{{ url_for('admin_panel') }}"
                   class="btn btn-secondary px-4 btn-ripple">
                    <i class="bi bi-x-circle"></i> Cancel
                </a>
            </div>

        </form>
    </div>

</div>

{% endblock %}
